import{a7 as l,c as b,r as y,j as s,a9 as m,af as x,ag as N,B as h}from"./vendor-WQejLG7Y.js";import{u as j,b as C,a as f}from"./index-BUY2Cjej.js";import{d as g}from"./data.service-BjjAEJBf.js";import{u as I}from"./useAsync-Dl5FScg5.js";import{u as S}from"./useAsyncFn-DMoxp3xu.js";function A(){var a;const r=j(e=>e),{checkAuth:c}=C(),[t]=l.useForm(),{value:u}=I(g.getCountries),n=b(),[{loading:i},p]=S(async e=>{await f.setProfile({companyLegalName:e==null?void 0:e.companyLegalName,companyWebsite:e==null?void 0:e.companyWebsite,companyHouseNumber:e==null?void 0:e.companyHouseNumber,companyStreetName:e==null?void 0:e.companyStreetName,companyCity:e==null?void 0:e.companyCity,countryId:e==null?void 0:e.countryId,description:e==null?void 0:e.description,companySize:e==null?void 0:e.companySize,phoneNumber:e==null?void 0:e.phoneNumber,contactEmail:e==null?void 0:e.contactEmail}),await c(),n("/profile")},[]);return y.useEffect(()=>{r.businessProfile&&n("/")},[r.businessProfile]),s.jsxs("div",{className:"max-w-[936px] w-full py-4 px-4 mx-auto",children:[s.jsx("div",{className:"flex",children:s.jsx("h2",{className:"flex-1 m-0 text-4xl leading-[44px]",children:"Complete profile"})}),s.jsx("div",{className:"my-6 bg-[#252726] h-[1px] opacity-20"}),s.jsxs(l,{onFinish:p,form:t,initialValues:{...r==null?void 0:r.businessProfile,contactEmail:((a=r==null?void 0:r.user)==null?void 0:a.email)??""},name:"update-profile",size:"large",layout:"vertical",requiredMark:!1,children:[s.jsxs("div",{className:"p-8 bg-pool-card-bg [&_label]:!h-4 [&_label]:!leading-0 [&_.ant-form-item]:!leading-4 rounded-3xl",children:[s.jsx("h2",{className:"text-2xl leading-8 font-semibold mt-0 mb-4",children:"About your company"}),s.jsx(l.Item,{rootClassName:"mb-4",name:"companyLegalName",label:"Companyâ€™s legal name (*)",rules:[{required:!0,message:"Please input your Company legal name"}],children:s.jsx(m,{className:"p-3"})}),s.jsx(l.Item,{rootClassName:"mb-4",name:"companyWebsite",label:"Website",children:s.jsx(m,{placeholder:"Enter website...",className:"p-3"})}),s.jsxs(l.Item,{rootClassName:"mb-4",children:[s.jsx(l.Item,{rootClassName:"mb-4",name:"companyHouseNumber",label:"House number (*)",rules:[{required:!0,message:"Please input your House Number"}],className:"inline-block w-1/2 pr-4",children:s.jsx(m,{placeholder:"Enter house number",className:"p-3"})}),s.jsx(l.Item,{rootClassName:"mb-4",name:"companyStreetName",label:"Street name (*)",rules:[{required:!0,message:"Please input your Street Name"}],className:"inline-block w-1/2",children:s.jsx(m,{placeholder:"Enter street name",className:"p-3"})})]}),s.jsxs(l.Item,{rootClassName:"mb-4",children:[s.jsx(l.Item,{rootClassName:"mb-4",name:"companyCity",label:"City (*)",rules:[{required:!0,message:"Please input your City"}],className:"inline-block w-1/2 pr-4",children:s.jsx(m,{placeholder:"Enter city",className:"p-3"})}),s.jsx(l.Item,{rootClassName:"mb-4",label:"Country (*)",rules:[{required:!0,message:"Please input your Country"}],name:"countryId",className:"inline-block w-1/2",children:s.jsx(x,{showSearch:!0,placeholder:"Select country",filterOption:(e,o)=>((o==null?void 0:o.label)??"").toLowerCase().includes(e.toLowerCase()),className:"!h-12",options:N(u,e=>({label:e.name,value:String(e.id)}))})})]}),s.jsx(l.Item,{rootClassName:"mb-4",name:"description",label:"Company Description",children:s.jsx(m.TextArea,{className:"p-3",rows:4})}),s.jsx(l.Item,{rootClassName:"mb-4",name:"companySize",label:"Company Size",children:s.jsx(m,{className:"p-3"})}),s.jsx(l.Item,{rootClassName:"mb-4",name:"phoneNumber",label:"Phone",children:s.jsx(m,{className:"p-3"})}),s.jsx(l.Item,{rootClassName:"mb-0",name:"contactEmail",label:"Company Email Address",children:s.jsx(m,{className:"p-3"})})]}),s.jsx(l.Item,{rootClassName:"mt-8 text-end",children:s.jsx(h,{htmlType:"submit",className:"w-[124px] !h-12 !rounded-full",type:"primary",loading:i,disabled:i,children:"Submit"})})]})]})}export{A as default};
