import{a6 as L,a7 as t,n as k,c as P,r as i,d as _,j as e,ac as A,ad as f,N as r,a9 as j,B as U,aa as T}from"./vendor-WQejLG7Y.js";import{q}from"./base-CumTa13P.js";import{u as F,S as B,l as y}from"./index-BUY2Cjej.js";import{U as I,a as R}from"./background-Dbg_7zdz.js";function D(){const{notification:o}=L.useApp(),[N]=t.useForm(),c=k(),d=P(),{isAuthenticated:m}=F(s=>s),[v,b]=i.useState(""),[u,g]=i.useState(""),[w,n]=i.useState(!1),{address:p}=_(),x=2;i.useEffect(()=>{const s=q.parse(c.search);s.email&&b(s.email)},[c.search]),i.useEffect(()=>{(m||!p)&&d("/invest")},[m,d,p]);const h=async s=>{if(s.error)return;n(!0);const a=await y.signUpWithGoogle(s.credential,x);this.handleResponseAfterSignup(a)},S=async s=>{n(!0),g("");try{const{email:a,password:E}=s,l=await y.signUp(a,E,x);l.status>=0?o.success({description:"To complete signup please verify your email."}):(l.message==="Duplicate phone!!!"||l.message==="Duplicate email!!!")&&g(a)}catch{o.error({description:"There's something wrong, please ty again!"})}n(!1)};return e.jsxs(A,{className:"h-screen",children:[e.jsxs(f,{lg:8,md:0,xs:0,className:"flex justify-center relative",children:[e.jsx("img",{src:I,alt:"side_bg_untangle",className:"w-full h-full object-cover"}),e.jsx("img",{src:R,alt:"side_logo_untangle",className:"absolute top-[100px]"})]}),e.jsxs(f,{lg:16,md:24,xs:24,children:[e.jsx("div",{className:"flex justify-end px-6 py-2",children:e.jsx(B,{})}),e.jsxs("div",{className:"h-screen flex flex-col justify-center items-center",children:[e.jsxs("div",{"data-testid":"signup-form-container",className:"pb-6",children:[e.jsx("div",{className:"text-4xl pb-6 font-bold",children:"Sign up to Untangled"}),u&&e.jsx("div",{className:"text-xs pb-6 text-gray-500",children:e.jsxs(e.Fragment,{children:["This account already exists. Would you like to"," ",e.jsx(r,{to:`/login?email=${u}`,children:"log in with this account"}),"?"]})}),e.jsxs("div",{"data-testid":"signup-form-section",children:[e.jsxs(t,{onFinish:S,form:N,name:"signup",layout:"vertical",initialValues:{email:v||""},requiredMark:!1,children:[e.jsx(t.Item,{label:"Email",name:"email",rules:[{required:!0,message:"Please input your email address!"}],children:e.jsx(j,{size:"large",placeholder:"Enter your email...",className:"w-[400px]"})}),e.jsx(t.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter your Password!"}],children:e.jsx(j,{size:"large",type:"password",placeholder:"Enter your password...",className:"w-[400px]"})}),e.jsx(t.Item,{children:e.jsx(U,{type:"primary",htmlType:"submit",loading:w,block:!0,children:"Sign up"})})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("hr",{className:"flex-grow border-slate-50 border-t-1"}),e.jsx("span",{className:"px-2",children:"Or"}),e.jsx("hr",{className:"flex-grow border-slate-50 border-t-1"})]}),e.jsx("center",{className:"flex justify-center items-center",children:e.jsx(T,{onSuccess:h,type:"icon",shape:"rectangular",onFailure:h,cookiePolicy:"single_host_origin",text:"signin"})})]})]}),e.jsxs("div",{"data-testid":"login-form-section",children:["Already have an account?"," ",e.jsx(r,{to:"/login",className:"font-semibold",children:"Login"})]}),e.jsx("div",{className:"pt-6 text-gray-500",children:e.jsxs("center",{children:["By signing up you agree to our",e.jsx(r,{to:"/policy/terms",target:"_blank",children:" Terms and Conditions"})," and ",e.jsx(r,{to:"/policy/privacy",target:"_blank",children:"Privacy Policy"})]})})]})]})]})}export{D as default};
