import{ae as f,a6 as g,a7 as r,c as j,r as l,d as P,j as e,ac as b,ad as u,a9 as m,B as y}from"./vendor-WQejLG7Y.js";import{u as v,a as N}from"./index-BUY2Cjej.js";import{U as A,a as E}from"./background-Dbg_7zdz.js";function I(){const{code:p}=f(),{notification:o}=g.useApp(),[w]=r.useForm(),n=j(),{isAuthenticated:i}=v(a=>a),[x,c]=l.useState(!1),{address:d}=P();l.useEffect(()=>{(i||!d)&&n("/invest")},[i,n,d]);const h=async a=>{c(!0);try{const{password:s,confirmPassword:t}=a;(await N.resetPassword(p,s,t)).status===1?(o.success({description:"Your password has been reset successfully. Please login with your new password."}),setTimeout(()=>{n("/login")},2e3)):o.error({description:"There're something wrong. Please try again!"})}catch(s){s!=null&&s.response&&o.error({description:s.response.data.message})}c(!1)};return e.jsxs(b,{className:"h-screen",children:[e.jsxs(u,{lg:8,md:0,xs:0,className:"flex justify-center relative",children:[e.jsx("img",{src:A,alt:"side_bg_untangle",className:"w-full h-full object-cover"}),e.jsx("img",{src:E,alt:"side_logo_untangle",className:"absolute top-[100px]"})]}),e.jsx(u,{lg:16,md:24,xs:24,children:e.jsx("div",{className:"h-screen flex flex-col justify-center items-center",children:e.jsxs("div",{"data-testid":"resetpass-form-container",className:"pb-6",children:[e.jsx("div",{className:"text-4xl pb-6 font-bold",children:"Reset Password"}),e.jsx("div",{className:"pb-4 text-gray-500 w-[400px]",children:"Enter your new password."}),e.jsx("div",{"data-testid":"resetpass-form-section",children:e.jsxs(r,{onFinish:h,form:w,name:"resetpass",layout:"vertical",requiredMark:!1,children:[e.jsx(r.Item,{name:"password",label:"Password",className:"w-[400px]",rules:[{required:!0,message:"Please input your password!"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Password contains at least one uppercase letter, one lowercase letter, one number, and one special character!"}],hasFeedback:!0,children:e.jsx(m.Password,{className:"w-[400px]"})}),e.jsx(r.Item,{name:"confirmPassword",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},({getFieldValue:a})=>({validator(s,t){return!t||a("password")===t?Promise.resolve():Promise.reject(new Error("The new password that you entered do not match!"))}})],children:e.jsx(m.Password,{className:"w-[400px]"})}),e.jsx(r.Item,{children:e.jsx(y,{type:"primary",htmlType:"submit",loading:x,block:!0,children:"Submit"})})]})})]})})})]})}export{I as default};
